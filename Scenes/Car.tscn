[gd_scene load_steps=8 format=4 uid="uid://gl66cbv21e5f"]

[ext_resource type="PackedScene" uid="uid://bpk6sxin7xl47" path="res://Assets/CarBody.glb" id="1_1k6jk"]
[ext_resource type="Script" uid="uid://cehhidk6adjsc" path="res://car.gd" id="1_y2uan"]
[ext_resource type="Script" uid="uid://dc3arp05xnp60" path="res://Scenes/raycast_wheel.gd" id="3_jbim0"]

[sub_resource type="BoxShape3D" id="BoxShape3D_1k6jk"]
size = Vector3(1.9837646, 1.5216064, 5.132324)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hqto4"]

[sub_resource type="ArrayMesh" id="ArrayMesh_5sbo7"]
_surfaces = [{
"aabb": AABB(-0.4, -0.13, -0.4, 0.8, 0.26, 0.8),
"format": 34896613377,
"index_count": 372,
"index_data": PackedByteArray("AAASAAIAAAAiABIAIwACABIAIgAjABIAJAAAAAIAJAAiAAAAJAACABMAAgAlABMAIwAlAAIADAAkABMADAATACUAJgAkAAwAJgAMACUAJgAlAA0AFAAmAA0AJQAnAA0AFAANACcAKAAmABQAKAAUACcAKAAkACYAJQApACcAIwApACUAKAAnAAoAJwApAAoABQAoAAoABQAKACkAKgAoAAUAKgAFACkAKwAoACoAKwAkACgAKgApABUAFgAqABUAKwAqABYAFgAVACwAKQAsABUAKwAWACwAKQAtACwAKwAsAAkALAAtAAkADgArAAkADgAJAC0ALgArAA4ALgAOAC0ALgAtABcAGAAuABcAKQAvAC0ALQAwABcAGAAXADAALQAvADAAMQAuABgAMQArAC4AMQAYADAAIwAvACkAMQAwAAMAMAAvAAMACAAxAAMACAADAC8AMgArADEAGgAxAAgAMgAxABoAGgAIAC8AMgAkACsAGgAvABkAGwAaABkAMgAaABsAGwAZADMALwAzABkAMgAbADMALwA0ADMAMgAzAAYAMwA0AAYADwAyAAYADwAGADQANQAyAA8ANQAPADQANQA0ACEAIAA1ACEALwA2ADQANAA3ACEAIAAhADcANAA2ADcAOAA1ACAAOAAyADUAOAAgADcANwA2ABEAOAA3ABEAAQA4ABEAAQARADYAOQAyADgAOgA4AAEAOQA4ADoAOgABADYAJAAyADkAOQA6AB0AHQA6AB8AOgA2AB8AHQAfADsANgA7AB8AOQAdADsANgA8ADsAOQA7AAQAOwA8AAQABwA5AAQABwAEADwAJAA5AD0APgA5AAcAPQA5AD4APgAHADwAJAA9ACIAPgA8AB4AHAA+AB4APQA+ABwAHAAeAD8APQAcAD8APAA/AB4AIgA9ABAAPQA/AAsAEAA9AAsAIgAQACMAEAALACMAPwAjAAsAPAAjAD8ANgAjADwALwAjADYA"),
"lods": [0.009159192, PackedByteArray("AAASAAIAAAACABMAAgANABMAEgANAAIADAAAABMADAATAA0AFAAMAA0AFAAAAAwAFAANAAoABQAUAAoADQAVAAoABQAKABUAEgAVAA0AFgAUAAUAFgAFABUAFgAAABQAFgAVAAkADgAWAAkAFQAXAAkADgAJABcAGAAWAA4AGAAOABcAFQAZABcAEgAZABUAGAAXAAMAFwAZAAMACAAYAAMACAADABkAGgAYAAgAGgAIABkAGwAWABgAGwAYABoAGwAAABYAGwAaABkAAAAQABIAEAALABIAAAAcABAAEAAcAAsAAAAdABwAAAAbAB0AHAAeAAsAHgASAAsAHAAHAB4AHAAdAAcABwAEAB4ABwAdAAQAHwAeAAQAHwASAB4AHQAfAAQAGQASAB8AHQABAB8AAQARAB8AHQAgAAEAAQAgABEAHQAbACAAIQAfABEAGQAfACEAIAAhABEAGwAZAAYAGQAhAAYAIAAbAA8AIAAPACEADwAbAAYADwAGACEA"), 0.028615138, PackedByteArray("AAALAAIADAAAAAIADAACAA0ACwANAAIABQAMAA0ABQAAAAwABQANAAoACwAKAA0ADgAFAAoADgAAAAUADgAKAAkACgADAAkACwADAAoACAAOAAkACAAJAAMADwAOAAgADwAAAA4ADwAIAAMAAAAQAAsADwADAAYAAAAHABAAAAAPAAcAEAAEAAsAEAAHAAQAAwALABEAEQALAAQAAwARAAYABwARAAQAAQAPAAYABwAPAAEAAQAGABEABwABABEA"), 0.12571867, PackedByteArray("AAAEAAIABgACAAQAAAAHAAQABwABAAQAAQAGAAQABwAIAAEAAQAIAAYAAAAIAAcACAAJAAYACAAAAAUACAAFAAkAAAACAAoAAgAGAAoABQAAAAoACgAGAAkABQAKAAkA"), 0.5081298, PackedByteArray("AAAEAAIAAwACAAQABQAAAAIABQACAAMAAAABAAQAAQAAAAUAAQADAAQAAQAFAAMA"), 0.6465372, PackedByteArray("AAABAAIAAQADAAIAAAACAAMAAQAAAAMA")],
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 64,
"vertex_data": PackedByteArray("/38AAAAAAABA9gAA+7AAAP9///8AAAAA4jj//2zqAACJ/f//BmcAAL4JAAADTwAA+Jj//4n9AABA9gAAA08AAANPAABA9gAAdQL///iYAACSFf//4jgAABzH//+SFQAAA08AAL4JAADiOP//khUAAL4JAAD7sAAA+7AAAED2AAD7sAAAvgkAAGzq//8cxwAA+Jj//3UCAAAGZ///dQIAAH0lAAB9JQAAdQL//wZnAAAAAAAA/38AAJIV//8cxwAAfSUAAIHaAAAGZ///if0AAAZnAACJ/QAA/38AAP//AACB2gAAfSUAAP//AAD/fwAAbOr//+I4AACJ/f//+JgAAIHaAACB2gAAHMf//2zqAAD4mAAAdQIAAPuw//++CQAABmcAAHUCAAADT///vgkAAOI4AACSFQAAfSX//30lAACSFQAA4jgAAL4J//8DTwAAdQIAAAZnAAB1AgAA+JgAAAAA////fwAAvgn///uwAACSFQAAHMcAAANP//9A9gAAfSX//4HaAADiOAAAbOoAAPiYAACJ/QAA/3//////AAD7sP//QPYAABzHAABs6gAAQPb///uwAACB2v//gdoAAGzqAAAcxwAAif0AAAZnAACJ/QAA+JgAAP//////fwAAQPb//wNPAAAcxwAAkhUAAGzqAADiOAAAgdr//30lAAA=")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_0f2wb"]
resource_name = "Wheel_Cylinder_001"
_surfaces = [{
"aabb": AABB(-0.4, -0.13, -0.4, 0.8, 0.26, 0.8),
"attribute_data": PackedByteArray("////f/+v/3///wAA/2cAAAAA/38AAAAA/8cAAP8v/3/dHRTz/z+OgkF8ArTC+ILX/7+OgjyHfKj/z/9//4cAAP9v/3//RwAA/ycAAOoM3Z38S0H8vQP7y8L4fKh8qML4/+cAAP/v/3//pwAA/4//f/9P/3//FwAA/w//fyFi6YzdHemMFXMh4nyoPIc8h4LXgtfC+ILXPIf/9wAA/9//f//XAAD/v/9//7cAAP+f/3//lwAA/3//f/93AAD/d/9//1//f/9XAAD/P/9//zcAAP8f/3//BwAAAzS9g/xLvYO9AwK06gwh4gM0QfwVc92dQXz7yyFiFPMCtEH8jZRw6/+/b/2Ogv+/jZSNlHDrcOtv/f+/cOuNlP/3/3//7wAA/+f/f//fAAD/1/9//88AAP/H/3//vwAA/7f/f/+vAAD/p/9//58AAP+X/3//jwAA/4f/f/9/AAD/bwAA/2f/f/9fAAD/V/9//08AAP9H/3//PwAA/zf/f/8vAAD/J/9//x8AAP8X/3//DwAA/wf/f4JXPId8KDyHjhSNlDwHfKiPAv+/PAeC13wowviOFHDr/z9v/YJXwvjCeILXcWtw63FrjZTCeHyocH3/vwK0vYP7y72DIeLpjBTz3Z1B/AK0Qfz7yxTzIeL7y0H8IeIU892dFPO9g/vL6Ywh4t2d6YzpjN2dvYMCtA=="),
"format": 34896613399,
"index_count": 372,
"index_data": PackedByteArray("AAAmAAIAAABGACYARgBHACYARgAZAEcAGQAYAEcAGQBIABgASABJABgASAAnAEkAJwAoAEkAJwBKACgASgBLACgASgAOAEsADgAGAEsADgBMAAYATABNAAYATAApAE0AKQAqAE0AKQBOACoATgBPACoATgABAE8AAQAaAE8AAQBQABoAUABRABoAUAArAFEAKwAsAFEAKwBSACwAUgBTACwAUgAbAFMAGwAPAFMAGwBUAA8AVABVAA8AVAAtAFUALQAuAFUALQAvAC4ALwBWAC4ALwAQAFYAEAADAFYAEABXAAMAVwBYAAMAVwAwAFgAMAAxAFgAMABZADEAWQBaADEAWQAcAFoAHAARAFoAHABbABEAWwBcABEAWwAyAFwAMgAzAFwAMgBdADMAXQBeADMAXQAHAF4ABwASAF4ABwBfABIAXwBgABIAXwA0AGAANAAdAGAANABhAB0AYQBiAB0AYQAeAGIAHgA1AGIAHgBjADUAYwAFADUAYwAEAAUAZAAJADcACQBlADYAZABlAAkAZQBmACAAZQBnAGYAZgBnABMAZABnAGUAZwBoADgAZwBpAGgAaABpABUAZwBqAGkAZABqAGcAaQBrADkAaQBqAGsAawBqAAgAagBsADoAagBtAGwAbABtABQAagBkAG4AagBuAG0AbQBvAD0AbQBuAG8AbwBuACEAcABkAB8AcQBkAHAAbgBkAHEAcQBwADsAbgBxAHIAcgBxAAoAbgByADwAcwB0AAwAdAB1ACUAcwB1AHQAdQB2AEUAdQB3AHYAdgB3ABYAcwB3AHUAdwB4AEQAdwB5AHgAeAB5AAsAdwB6AHkAcwB6AHcAeQB7AEMAeQB6AHsAewB6ACQAegA+AEAAegB8AD4APgB8ABcAegBzAH0AegB9AHwAfAB+AD8AfAB9AH4AfgB9ACMAfwBzACIAgABzAH8AfQBzAIAAgAB/AEIAfQCAAIEAgQCAAA0AfQCBAEEA"),
"lods": [0.009159192, PackedByteArray("AAAmAAIAAAAZACYAGQAYACYAGQAnABgAJwAoABgAJwAOACgADgAGACgADgApAAYAKQAqAAYAKQABACoAAQAaACoAAQArABoAKwAsABoAKwAbACwAGwAPACwAGwAtAA8ALQAuAA8ALQAvAC4ALwAQAC4AEAADAC4AEAAwAAMAMAAxAAMAMAAcADEAHAARADEAHAAyABEAMgAzABEAMgAHADMABwASADMABwA0ABIANAAdABIANAAeAB0AHgA1AB0AHgAEADUABAAFADUACQAgADYANwAgAAkAIAA4ABMANwA4ACAAOAA5ABUAOAA6ADkANwA6ADgAOQA6AAgAOwA3AB8APAA3ADsAOgA3ADwAPAA7AAoAOgA8AD0APQA8ACEAOgA9ABQAPgA/ABcAQAA/AD4APwBBACMAQABBAD8AQQBCAA0AQQAMAEIAQAAMAEEAQgAMACIAQwBAACQARABAAEMADABAAEQARABDAAsADABEAEUARQBEABYADABFACUA"), 0.028615138, PackedByteArray("AAAYAAIAAAAZABgAGQAGABgAGQAOAAYADgAaAAYADgABABoAAQAPABoAAQAbAA8AGwADAA8AGwAQAAMAEAARAAMAEAAcABEAHAASABEAHAAHABIABwAdABIABwAeAB0AHgAFAB0AHgAEAAUAHwAgAAkAHwATACAAHwAIABMAEwAIABUACAAfACEAIQAfAAoACAAhABQADQAMACIAIwAMAA0AJAAMACMAJAAjABcADAAkABYAFgAkAAsADAAWACUA"), 0.12571867, PackedByteArray("AAAGAAIAAAAOAAYADgABAAYAAQAPAAYAAQAQAA8AEAARAA8AEAAHABEABwASABEABwAEABIABAAFABIAEwAUABUACQAUABMAFAAJAAoAFgAXAAsADAAXABYAFwAMAA0A"), 0.5081298, PackedByteArray("AAAGAAIAAAABAAYAAQADAAYAAQAHAAMABwAFAAMABwAEAAUACAAJAAoACwAMAA0A"), 0.6465372, PackedByteArray("AAABAAIAAQADAAIAAQAEAAMABAAFAAMA")],
"material": SubResource("StandardMaterial3D_hqto4"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 130,
"vertex_data": PackedByteArray("/38AAAAA//9A9gAA+7D/r/9///8AAP//4jj//2zq/5f/fwAAAAD///9///8AAP//if3//wZn/8e+CQAAA0//z+I4//9s6v+//3///wAA/7+J/f//Bmf/v0D2AAD7sP8//38AAAAA/z++CQAAA0//P0D2AAADT//P+Jj//4n9/4cDTwAAQPb/j3UC///4mP+3khX//+I4/9eSFf//4jj/v/iY//+J/f+/dQL///iY/79A9gAAA0//PwNPAABA9v8/HMf//5IV/+f7sAAAvgn+72zq//8cx/+n+7AAAED2/4++CQAA+7D/r+I4//+SFf/nA08AAL4J/u8cx///khX/v+I4//+SFf+/bOr//xzH/78DTwAAvgn/P74JAAD7sP8/+7AAAED2/z/7sAAAvgn/P/iY//91Av73gdoAAH0l/99s6v//4jj/1///AAD/f/+/if3///iY/7eB2gAAgdr/nxzH//9s6v+X/38AAP//AIAGZ///if3/hwZnAACJ/f+HfSUAAIHa/5+SFf//HMf/pwAAAAD/f/+/dQL//wZn/8d9JQAAfSX/3wZn//91Av73Bmf//3UC/7/4mP//dQL/v3UC//8GZ/+/khX//xzH/78GZ///if3/v2zq///iOP+/if3///iY/78cx///bOr/vwZnAACJ/f8/fSUAAIHa/z//fwAA////PwAAAAD/f/8/fSUAAH0l/z+B2gAAgdr/P///AAD/f/8/gdoAAH0l/z/4mAAAdQL+9/uw//++Cf7vHMcAAJIV/+eB2v//fSX/32zqAADiOP/XQPb//wNP/8+J/QAABmf/x///////f/+/if0AAPiY/7dA9v//+7D/r2zqAAAcx/+ngdr//4Ha/58cxwAAbOr/l/uw//9A9v+P+JgAAIn9/4f/f/////8AgANP//9A9v+P4jgAAGzq/5d9Jf//gdr/n5IVAAAcx/+nvgn///uw/691AgAA+Jj/twAA////f/+/dQIAAAZn/8e+Cf//A0//z5IVAADiOP/XfSX//30l/9/iOAAAkhX/5wNP//++Cf7vBmcAAHUC/vf7sP//vgn/vwNP//++Cf+/fSX//30l/7++Cf//A0//vwAA////f/+/vgn///uw/78DT///QPb/v30l//+B2v+//3///////7/7sP//QPb/v0D2///7sP+/gdr//4Ha/7+B2v//fSX/v0D2//8DT/+///////9//78GZwAAdQL/P/iYAAB1Av8/HMcAAJIV/z9s6gAA4jj/P4n9AAAGZ/8/if0AAPiY/z9s6gAAHMf/P/iYAACJ/f8/HMcAAGzq/z/iOAAAbOr/P3UCAAD4mP8/khUAABzH/z/iOAAAkhX/P5IVAADiOP8/dQIAAAZn/z//f////38AAP9/////f////3////9/////fwAA/3////7//3////9//v//fwAA/38AAP9/AAD/f/9/AAD/fwAA/3////9/////f////v//f/7//3/+//9/AAD/fwAA/3//fwAA/38AAP9/AAD/fwAA/3////9/////f////v//f/7//3/+//9/AAD/fwAA/38AAP9/AAD/f/9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/f////3////9/////f////3////9/////f////3////9////+//9//v//f/7//3/+//9//v//f/7//3/+//9//v//fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9//38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/3////9/////f////3////9/////f////3////9/////f////3////9/////f////3////9/////f///////f/7//3////9//v//f////3/+//9/////f/7//3////9//v//f/7//3////9//v//f/7//3////9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_5sbo7")

[node name="Car" type="RigidBody3D" node_paths=PackedStringArray("wheels")]
mass = 1100.0
script = ExtResource("1_y2uan")
wheels = [NodePath("WheelRay_FL"), NodePath("WheelRay_FR"), NodePath("WheelRay_BL"), NodePath("WheelRay_BR")]

[node name="CarBody" parent="." instance=ExtResource("1_1k6jk")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.002746582, 0.75971293, 0.83032227)
shape = SubResource("BoxShape3D_1k6jk")

[node name="WheelRay_FL" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.85, 0.5264133, 2.4241312)
enabled = false
script = ExtResource("3_jbim0")
spring_stiffness = 40000.0
spring_damping = 3000.0
rest_dist = 0.65

[node name="Wheel" type="MeshInstance3D" parent="WheelRay_FL"]
transform = Transform3D(0, 1, 0, -1, 0, 0, 0, 0, 1, 0, -0.48, 0)
mesh = SubResource("ArrayMesh_0f2wb")
skeleton = NodePath("")

[node name="WheelRay_BL" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.85, 0.5264133, -1.043516)
enabled = false
script = ExtResource("3_jbim0")
spring_stiffness = 40000.0
spring_damping = 3000.0
rest_dist = 0.65
is_motor = true

[node name="Wheel" type="MeshInstance3D" parent="WheelRay_BL"]
transform = Transform3D(0, 1, 0, -1, 0, 0, 0, 0, 1, 0, -0.48, 0)
mesh = SubResource("ArrayMesh_0f2wb")
skeleton = NodePath("")

[node name="WheelRay_FR" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.85, 0.5264133, 2.4241312)
enabled = false
script = ExtResource("3_jbim0")
spring_stiffness = 40000.0
spring_damping = 3000.0
rest_dist = 0.65

[node name="Wheel" type="MeshInstance3D" parent="WheelRay_FR"]
transform = Transform3D(0, 1, 0, -1, 0, 0, 0, 0, 1, 0, -0.48, 0)
mesh = SubResource("ArrayMesh_0f2wb")
skeleton = NodePath("")

[node name="WheelRay_BR" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.85, 0.5264133, -1.043516)
enabled = false
script = ExtResource("3_jbim0")
spring_stiffness = 40000.0
spring_damping = 3000.0
rest_dist = 0.65
is_motor = true

[node name="Wheel" type="MeshInstance3D" parent="WheelRay_BR"]
transform = Transform3D(0, 1, 0, -1, 0, 0, 0, 0, 1, 0, -0.48, 0)
mesh = SubResource("ArrayMesh_0f2wb")
skeleton = NodePath("")
